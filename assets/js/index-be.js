var totalPosts;function showHideShowMore(){var t=$(".chronicle-posts").find(".post").length;totalPosts=$("#category-filter").find(".select-title").data("amount-posts"),$(".chronicles-show-more").toggle(t!==totalPosts)}function initShowMore(){showHideShowMore(),$(".chronicles-show-more").on("click",function(t){t.preventDefault();var e=$(".chronicle-posts").find(".post").length,t=new URL(window.location.href).searchParams.get("category_name");$.ajax({url:"/wp-admin/admin-ajax.php",method:"post",data:{action:"load_more_articles",offset:e,limit:6,page:$(".page-content").data("page-id"),category:t}}).done(function(t){renderChroniclePosts(t)})})}function renderChroniclePosts(t){$(".articles-container").append(t.postsHTML),$(".chronicle-posts").find(".post").length===totalPosts&&$(".chronicles-show-more").hide(),setTimeout(function(){$(".articles").addClass("animate-in")},200)}function renderFilteredChroniclesPosts(e,t){$(".articles-container").addClass("animate-out"),t?window.history.replaceState({},"",location.pathname+"?category_name="+t):window.history.replaceState({},"",location.pathname),setTimeout(function(){var t=$(e).find(".articles-container");$(".articles-container").html(t.html()),showHideShowMore()},500),setTimeout(function(){$(".articles-container").removeClass("animate-out"),$(".articles").addClass("animate-in")},600)}function initCategoryFilter(){$("body").on("click","#category-filter .select-option",function(t){t.preventDefault();var e,o=$(this).data("category").toLowerCase();0!==o.length?($(this).closest("#category-filter").find(".select-title").text(o[0].toUpperCase()+o.slice(1)),(e=new URL(window.location.href)).searchParams.set("category_name",o),setTimeout(function(){var t=e.href;$.ajax({url:t,method:"get"}).done(function(t){renderFilteredChroniclesPosts(t,o);t=$(t).find("#category-filter");$("#category-filter").html(t.html()),$(".select-title").on("click",function(){$(this).parent().toggleClass("active")})})},500)):($(this).closest("#category-filter").find(".select-title").text("All items"),setTimeout(function(){var t=window.location.href.split("?")[0];$.ajax({url:t,method:"get"}).done(function(t){renderFilteredChroniclesPosts(t,null);t=$(t).find("#category-filter");$("#category-filter").html(t.html()),$(".select-title").on("click",function(){$(this).parent().toggleClass("active")})})},500)),$(this).closest("#category-filter").removeClass("active")})}